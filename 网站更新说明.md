# 📘 LangGraph Lightning 网站更新说明手册

> 本手册专为初次使用 VitePress 的用户设计，即使你只懂基本的 HTML 知识，也能轻松掌握网站更新流程。

---

## 📋 目录

- [1. 核心概念：VitePress 是什么？](#1-核心概念vitepress-是什么)
- [2. 重要原则：永远不要直接编辑 HTML](#2-重要原则永远不要直接编辑-html)
- [3. 项目结构说明](#3-项目结构说明)
- [4. 更新流程详解](#4-更新流程详解)
  - [4.1 更新章节内容（如 1.1）](#41-更新章节内容如-11)
  - [4.2 更新网站首页](#42-更新网站首页)
  - [4.3 更新导航栏](#43-更新导航栏)
  - [4.4 添加新章节](#44-添加新章节)
- [5. 预览和发布](#5-预览和发布)
- [6. 常见问题 FAQ](#6-常见问题-faq)

---

## 1. 核心概念：VitePress 是什么？

### 🎯 简单理解

想象一下：
- **Markdown 文件** = 你的原稿（.md 文件，用简单的文本编写）
- **VitePress** = 自动排版机器人
- **HTML 网页** = 最终呈现给读者的精美书籍

**工作流程：**
```
你写 Markdown 文件 → VitePress 自动转换 → 生成漂亮的网页
     (.md)                (自动)            (.html)
```

### ✅ 核心优势

1. **简单易写**：用 Markdown 写作，比 HTML 简单 10 倍
2. **自动生成**：网页样式、导航、目录全自动生成
3. **统一风格**：所有页面自动保持一致的样式
4. **即改即看**：修改后立即预览效果

---

## 2. 重要原则：永远不要直接编辑 HTML

### ⚠️ 黄金法则

```
❌ 错误做法：直接修改 docs/.vitepress/dist/ 里的 HTML 文件
✅ 正确做法：修改 .md 文件，让 VitePress 自动生成 HTML
```

### 🤔 为什么不能编辑 HTML？

**类比说明：**
- `dist/` 文件夹 = 打印出来的书
- 如果你在打印好的书上涂改，下次重印时所有修改都会消失
- 正确的做法是修改**原稿（.md 文件）**，然后重新打印

**技术原因：**
1. `dist/` 文件夹是**临时生成**的，每次构建都会被覆盖
2. 修改 HTML 的结果会在下次构建时**完全丢失**
3. 无法版本管理和团队协作

---

## 3. 项目结构说明

### 📁 完整目录树

```
learngraph.online/
├── index.md                    # 🏠 首页内容（你的主页面）
├── module-0/                   # 📚 第 0 章文件夹
│   ├── 0.1-Python Basics.md
│   └── 0.2-LangGraph Basics-详细解读.md
├── module-1/                   # 📚 第 1 章文件夹
│   ├── 1.1-simple-graph-最简图.md
│   ├── 1.2-chain-详细解读.md
│   └── ...
├── module-2/                   # 📚 第 2 章文件夹
├── docs/                       # ⚙️ 配置文件夹
│   └── .vitepress/
│       ├── config.mts          # 🎛️ 网站配置（导航、侧边栏等）
│       └── dist/               # ⚠️ 自动生成的文件，不要修改！
├── package.json                # 📦 项目配置
└── README.md                   # 📖 项目说明
```

### 🎨 文件类型说明

| 文件类型 | 位置 | 作用 | 是否可编辑 |
|---------|------|------|-----------|
| **内容文件** | `module-*/*.md` | 章节具体内容 | ✅ 可以编辑 |
| **首页文件** | `index.md` | 网站首页 | ✅ 可以编辑 |
| **配置文件** | `docs/.vitepress/config.mts` | 导航、侧边栏、网站设置 | ✅ 可以编辑 |
| **生成文件** | `docs/.vitepress/dist/` | 自动生成的 HTML | ❌ 不要编辑 |

---

## 4. 更新流程详解

### 4.1 更新章节内容（如 1.1）

#### 场景：我想修改"1.1-simple-graph"这一章的内容

**步骤：**

1️⃣ **找到对应的 Markdown 文件**
```
找到文件：module-1/1.1-simple-graph-最简图.md
```

2️⃣ **直接编辑 Markdown 文件**
```bash
# 用任何文本编辑器打开
# VS Code、Sublime Text、甚至记事本都可以
```

示例内容：
```markdown
# 简单图（Simple Graph）

## 什么是图？

图（Graph）是一种数据结构...

## 代码示例

​```python
from langgraph.graph import StateGraph
​```
```

3️⃣ **保存文件**

4️⃣ **预览效果**（见第 5 节）

**就这么简单！** VitePress 会自动将你的 Markdown 转换成漂亮的网页。

---

### 4.2 更新网站首页

#### 场景：我想修改首页的标题、副标题、或特性介绍

**步骤：**

1️⃣ **打开首页文件**
```
文件路径：index.md（在项目根目录）
```

2️⃣ **编辑首页内容**

首页使用特殊的 YAML 格式配置：

```markdown
---
layout: home

hero:
  name: "LangGraph Lightning"          # 👈 主标题
  text: "⚡ 快速掌握 LangGraph"        # 👈 副标题
  tagline: 基于 LangChain Academy...   # 👈 标语
  actions:
    - theme: brand
      text: 开始学习                    # 👈 按钮文字
      link: /module-0/...              # 👈 按钮链接

features:
  - icon: 📝                           # 👈 特性图标
    title: 术语通俗化                   # 👈 特性标题
    details: 对所有 Python...          # 👈 特性描述
---

## 📚 课程结构                         # 👈 首页正文内容

这里是正文...
```

**修改示例：**

**要修改主标题：**
```yaml
hero:
  name: "我的新标题"  # 修改这里
```

**要修改特性图标：**
```yaml
features:
  - icon: 🚀  # 修改 emoji 图标
    title: 我的特性
```

**要添加新的特性卡片：**
```yaml
features:
  - icon: 💡
    title: 新特性标题
    details: 新特性的详细描述
```

3️⃣ **保存文件**

---

### 4.3 更新导航栏

#### 场景：我想修改顶部导航栏（添加链接、修改文字、更换图标）

**步骤：**

1️⃣ **打开配置文件**
```
文件路径：docs/.vitepress/config.mts
```

2️⃣ **找到 nav 配置区域**（大约在第 64-79 行）
```typescript
nav: [
  { text: '首页', link: '/' },
  { text: '开始学习', link: '/module-0/0.1-Python Basics' },
  {
    text: '课程章节',    // 👈 下拉菜单
    items: [
      { text: '第 0 章 - 基础入门', link: '/module-0/...' },
      { text: '第 1 章 - 核心概念', link: '/module-1/...' }
    ]
  },
  { text: 'GitHub', link: 'https://github.com/...' },
  { text: '📈 GA 数据统计', link: 'https://analytics.google.com/...' }
]
```

**修改示例：**

**添加新的导航项：**
```typescript
nav: [
  { text: '首页', link: '/' },
  { text: '新导航', link: '/new-page' },  // 👈 添加这一行
  // ...其他导航项
]
```

**修改导航文字或图标：**
```typescript
{ text: '🔥 热门课程', link: '/module-1/...' }  // 修改文字和图标
```

**添加下拉菜单：**
```typescript
{
  text: '更多资源',
  items: [
    { text: 'API 文档', link: '/api' },
    { text: '视频教程', link: '/videos' }
  ]
}
```

3️⃣ **保存文件**

---

### 4.4 添加新章节

#### 场景：我想添加一个全新的章节，比如"第 7 章"

**步骤：**

1️⃣ **创建新文件夹**
```bash
# 在项目根目录创建
mkdir module-7
```

2️⃣ **添加 Markdown 文件**
```bash
# 在 module-7 文件夹中创建文件
# 文件名格式：章节号-内容名.md
```

例如：
```
module-7/
├── 7.1-advanced-topic.md
├── 7.2-best-practices.md
```

3️⃣ **编写内容**

在 `.md` 文件中写入内容：
```markdown
# 7.1 高级主题

## 概述

这是第 7 章的内容...

## 详细说明

...
```

4️⃣ **自动生成侧边栏**

**好消息：侧边栏会自动生成！** 🎉

配置文件中的 `getModuleSidebar()` 函数会自动：
- 扫描所有 `module-*` 文件夹
- 读取所有 `.md` 文件
- 自动生成侧边栏

**你不需要手动配置！**

---

## 5. 预览和发布

### 🔍 本地预览（实时查看效果）

**步骤：**

1️⃣ **启动开发服务器**
```bash
npm run docs:dev
```

2️⃣ **打开浏览器**
```
访问：http://localhost:5173
```

3️⃣ **实时预览**
- 修改任何 `.md` 文件
- 保存后浏览器**自动刷新**
- 立即看到效果

**提示：** 保持终端运行，修改文件时会自动更新！

---

### 🚀 构建和发布

#### 方式一：构建静态网站

```bash
# 1. 构建网站
npm run docs:build

# 2. 预览构建结果
npm run docs:preview

# 3. 生成的文件在
docs/.vitepress/dist/
```

#### 方式二：Git 提交（推荐）

```bash
# 1. 查看修改
git status

# 2. 添加修改的文件
git add .

# 3. 提交修改
git commit -m "更新 1.1 章节内容"

# 4. 推送到 GitHub
git push
```

**如果配置了 GitHub Pages：** 推送后网站会自动部署！

---

## 6. 常见问题 FAQ

### Q1: 我应该编辑 `.md` 文件还是 `.html` 文件？

**A:** 永远编辑 `.md` 文件！HTML 文件是自动生成的，不要手动修改。

---

### Q2: 为什么我修改了 `dist/` 文件夹里的内容，重新构建后就消失了？

**A:** 因为 `dist/` 文件夹每次构建都会被**完全重新生成**。这就像是每次都重新打印书籍，你在打印品上的涂改会被覆盖。

**正确做法：** 修改源文件（.md），让 VitePress 重新生成。

---

### Q3: 我想修改网站的样式（颜色、字体等），应该改哪里？

**A:** 样式修改需要在 `docs/.vitepress/theme/` 文件夹中添加自定义 CSS。

简单示例：
```css
/* docs/.vitepress/theme/custom.css */
:root {
  --vp-c-brand: #3eaf7c;  /* 主题色 */
}
```

然后在 `config.mts` 中引入。

---

### Q4: 侧边栏没有显示我的新章节？

**检查清单：**
1. 文件夹命名是否正确？（`module-X` 格式）
2. 文件是否是 `.md` 格式？
3. 是否重启了开发服务器？

**解决方案：**
```bash
# 重启开发服务器
Ctrl + C（停止）
npm run docs:dev（重新启动）
```

---

### Q5: 首页按钮链接失效怎么办？

**检查：**
1. 链接路径是否正确？
2. 目标文件是否存在？

**链接格式：**
```yaml
# 正确格式
link: /module-1/1.1-simple-graph-最简图

# 注意：
# - 不需要 .md 扩展名
# - 路径从项目根目录开始
# - 使用 / 分隔
```

---

### Q6: 如何添加图片？

**步骤：**

1️⃣ **放置图片**
```
将图片放在：docs/public/images/
```

2️⃣ **在 Markdown 中引用**
```markdown
![图片描述](/images/my-image.png)
```

**完整路径：**
```
物理路径：docs/public/images/my-image.png
引用路径：/images/my-image.png
```

---

### Q7: 构建后网站打不开，显示 404？

**可能原因：**
1. `base` 配置不正确（用于 GitHub Pages）
2. 链接路径错误

**检查 config.mts：**
```typescript
export default defineConfig({
  base: '/',  // 👈 使用根路径（适用于 Vercel 部署）
  // ...
})
```

---

## 📚 学习资源

### 官方文档
- [VitePress 官方文档](https://vitepress.dev/)
- [Markdown 语法指南](https://markdown.com.cn/)

### 快速参考
- **Markdown 基础**：标题 `#`、列表 `-`、链接 `[文字](url)`、图片 `![](url)`
- **代码块**：用 ` ``` ` 包裹代码
- **强调**：`**粗体**`、`*斜体*`

---

## 📝 总结：黄金工作流

```
1. 确定要修改的内容
   ↓
2. 找到对应的 .md 文件
   ↓
3. 编辑 Markdown 文件
   ↓
4. 保存文件
   ↓
5. npm run docs:dev 预览
   ↓
6. 确认无误后提交到 Git
   ↓
7. 推送到 GitHub，自动部署 ✨
```

---

## 🎯 核心记住三点

1. **只编辑 .md 文件**，不编辑 HTML
2. **VitePress 会自动生成**网页，你只管写内容
3. **用 Git 管理版本**，push 后自动部署

---

**祝你使用愉快！如有问题，欢迎查阅本手册或联系维护者。** 🚀

---

*最后更新：2025-10-12*
